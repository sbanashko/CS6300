# Test Plan

**Author**: Team 20

## 1 Testing Strategy

### 1.1 Overall strategy

For this project, we will implement self-testing strategies at the Unit-, Integreation-, and Regression- testing level using JUnit. We will create a set of test cases for the contracts specified for each of our files and ensure
high levels of line coverage. In this, unit tests and regression tests will have some overlap. Integration tests will test each individual contract between components, ensuring that when the contract is met, 
the group behaves correctly. We will try to avoid groups of more than two components per test. Our tests will focus on our service layer as much as possible. 

At the System testing level, we will detail a set of behavioral test cases, supplying inputs and examining expected outputs by hand. This will also test the contract between the service layer and the controller layer,
given a sufficiently simple controller. 

### 1.2 Test Selection

To select our test cases for unit, regression, and integration tests, we will primarily utilize the category-partition method. This will allow us to thoroughly test both the happy path and boundary cases for each method and each
integration. Our system level testing will be implemented using a combination of category-partition and FSM testing - we will identify the different states (screens) and verify the transitions between them, 
and within each screen verify a subset of core functionality. 

### 1.3 Adequacy Criterion

To assess the quality of our unit, integration, and regression tests we will rely primarily on code coverage. We can rely on our IDE's coverage tool for this.
However, we will also identify key boundary conditions using the methods mentioned in section 1.2 and verify by hand that they have been satisfied. Our system-level testing will need to rely on 
our analysis from the previous section to ensure all conditions are met. 

### 1.4 Bug Tracking

Bugs and enhancement requests will be tracked, for the time being, informally in a document within the repository. As the project grows, we may choose to use a formal bug-tracking system such as Jira. 

### 1.5 Technology

We will use JUnit for non-system testing where possible. 

## 2 Test Cases

| TC ID | Purpose 														| Prereqs 																			| Steps 																| Automated | Expected result 																										| Actual result | pass/fail |  Regression? 	|
| ----- | --------------------- 										| ----- 																			| ----- 																| --------  | ---------------   																									| ------------- | --------- | ------------ 	|
|UL1	|Verify user details can be retrieved				 			| JUnit																				| Invoke login														| Yes		|	User now has mocked user details																					|		Per expected		| Pass			|     X       	|
|UA1	|Verify administrator can add player 				 			| JUnit																				| Invoke AdministratorService.createPlayer										| Yes		|	Database called with supplied player info, player created with correct attributes									|	Per expected		|	Pass		|     X      	|
|UA2	|Verify administrator cannot add player missing username		| JUnit																				| Invoke AdministratorService.createPlayer	with empty UN						| Yes		|	Database is not called; error thrown																				|	Per expected		|	Pass		|     X      	|
|UA3	|Verify administrator cannot add player missing password		| JUnit																				| Invoke AdministratorService.createPlayer	with empty PW						| Yes		|	Database is not called; error thrown																				|	Per expected		|	Pass		|     X      	|
|UA4	|Verify administrator cannot add player missing UN/PW			| JUnit																				| Invoke AdministratorService.createPlayer	with empty UN/PW					| Yes		|	Database is not called; error thrown																				|	Per expected		|	Pass		|     X      	|
|UA5	|Verify administrator can add cryptogram			 			| JUnit																				| Invoke AdministratorService.createCryptogram									| Yes		|	EWS.sendCryptogram invoked with supplied cryptogram. Database called with supplied Cryptogram + returned UID		|	Per expected		|	Pass		|     X      	|
|UA6	|Verify administrator cannot add Cryptogram missing solution	| JUnit																				| Invoke AdministratorService.createCryptogram	without solution				| Yes		|	Neither EWS nor DB is called; error thrown																			|	Per expected		|	Pass		|     X      	|
|UA7	|Verify administrator cannot add Cryptogram missing encoded val	| JUnit																				| Invoke AdministratorService.createCryptogram	without encoding				| Yes		|	Neither EWS nor DB is called; error thrown																			|	Per expected		|	Pass		|     X      	|
|UA7	|Verify administrator cannot add Cryptogram with no encoding	| JUnit																				| Invoke AdministratorService.createCryptogram	with equal arguments			| Yes		|	Neither EWS nor DB is called; error thrown																			|	Per expected		|	Pass		|     X      	|
|UA8	|Verify administrator cannot add Cryptogram with no alpha chars	| JUnit																				| Invoke AdministratorService.createCryptogram	with solution = "!14#$1"		| Yes		|	Neither EWS nor DB is called; error thrown																			|	Per expected		|	Pass		|     X      	|
|UP1	|Verify player can save a cryptogram attempt					| JUnit																				| Invoke Player.saveCryptogramAttempt with mocked attempt				| Yes		|	Database is called to save attempt																					|	Per expected			|	Pass		|     X      	|
|UC1	|Verify Cryptogram can get UID									| JUnit																				| Invoke CryptogramService.getUID												| Yes		|	Cryptogram's stored UID is returned																					|	Per expected			|	Pass		|     X      	|
|UC2	|Verify Cryptogram verifies correct solutions					| JUnit																				| Invoke CryptogramService.submitSolution with solution = stored solution		| Yes		|	Method returns true																									|	Per expected			|	Pass		|     X      	|
|UC3	|Verify Cryptogram verifies incorrect solutions					| JUnit																				| Invoke CryptogramService.submitSolution with solution != stored solution		| Yes		|	Method returns false																								|	Per expected			|	Pass		|     X      	|
|UC4	|Verify Cryptogram verifies empty solutions						| JUnit																				| Invoke CryptogramService.submitSolution with solution = null					| Yes		|	Method returns false																								|	Per expected			|	Pass		|     X      	|
|UC5	|Verify Cryptogram returns incorrectSubmissionsBy				| JUnit																				| Invoke Cryptogram.incorrectSubmissionsBy								| Yes		|	Mocked database is called wtih supplied player and value is returned												|	Per expected			|	Pass		|     X      	|
|IPC1	|Verify player can attempt a cryptogram							| JUnit																				| Invoke PlayerService.attemptCryptogram										| Yes		|	Cryptogram class returns new cryptogramAttempt with correct fields filled											|	Per expected			|	Pass		|     X      	|
|IPC2	|Verify player can submit an incorrect cryptogram				| JUnit																				| Invoke PlayerService.submitCryptogramAttempt	with incorrect solution			| Yes		|	method returns false, mocked DB called to update CryptogramAttempt with extra submission, CA attempts updated		|	Per expected			|	Pass		|     X      	|
|IPC3	|Verify player can submit a correct cryptogram					| JUnit																				| Invoke PlayerService.submitCryptogramAttempt	with correct solution			| Yes		|	method returns true, mocked DB called to update CryptogramAttempt with isSolved=true, CA attempts updated			|	Per expected			|	Pass		|     X      	|
|IPC4	|Verify player can save an in-progress solution					| Cryptogram list screen, cryptograms available, one started, not submitted			| Hit back button														| No		|	On next entry to the same puzzle, previous answer is filled in on attempt screen													|		Per expected		|	Pass		|     X      	|
|SL1	|Verify administrator can log in								| Administrator credentials registered; on login screen								| Input Admin un/pw to fields, hit "login"								| No		|	CurrentScreen = Administrator dashboard																				|	Upon entering the admin username and password and pressing login, you are taken to the Administrator Dashboard			|	pass		|     X      	|
|SL2	|Verify user can't log in without registering			        | No credentials registered; on login screen										| Input unregistered username, and any password press 'Sign In"			| No		|	CurrentScreen = login screen, "This username is not valid" displayed												|	If you enter a username that does not exist in the database, it displays "This username is not valid"			        |	pass		|     X      	|
|SL3	|Verify user can log in with registered credentials             | Any credentials registered; on login screen                                       | Input user credentials to fields, hit "login"	                        | No	    |   CurrentScreen = User dashboard, FN/LN displayed	                                                                    |   Upon entering the correct username and password for a player and clicking "sign in" you are on the user dashboard, fn/ln and cryptograms are displayed	    |       pass	    |    X      |
|SL4	|Verify user can't log in with incorrect credentials	        | Any credentials registered; on login screen	                                    | Input incorrect credentials to fields, hit "login"	                | No	    |   CurrentScreen = login screen, "Incorrect password!" displayed	                                                    |   Entering a valid username but an incorrect password causes a "Incorrect Password!" message to appear.	                |   pass	    |       X       |
|SA1	|Verify Administrator can create player	                        | On Admin screen	                                                                | Press "Add user (plus sign)"; input new un/pw/fn/ln	                | No	    |   "Player Added!" displayed; User can log in with new credentials	                                                    |   Upon entering the information for a new player, the message displayed is "Player Added"	                                |   pass	    |       X       |
|SA2	|Verify Administrator cannot create player w/duplicate UN	    | On Admin screen	                                                                | Press "Add user"; input existing UN, any PW/LN/FN	                    | No	    |   "This username is not unique!" displayed; User can log in with old credentials	                                    |   When entering a username that already exists during registration you are presented with a notification bubble that states "This username is not unique!" You are able to log in after.	    |       pass	    |       X       |
|SA3	|Verify Administrator cannot create player w/missing UN	        | On Admin screen	                                                                | Press "Add user (plus sign)"; Leave UN blank, input any PW/LN/FN	    | No	    |   "This username is not valid!" displayed	                                                                            |   The message displayed is "This username is not valid!"	                    |       pass	|       X       |
|SA4	|Verify Administrator can create cryptogram with sol/encoded	| On Admin screen	                                                                | Press "Add Cryptogram"; input any valid solution/encoded phrase; press ADD	|  No   |	"Cryptogram registered!" displayed	    |   Entering a solution and encoded phrase and pressing ADD results in  "Cryptogram Added!" being displayed; cryptogram shows in list	    |       pass    |	X       |
|SA5	|Verify Administrator cannot create cryptogram missing sol	    | On Admin screen	                                                                | Press "Add Cryptogram"; input blank solution, any encoded phrase	    | No	    |   "Enter a solution!" displayed	                                                                                    |   Message displayed is "Enter a solution!"	                    |       pass	|   X       |
|SA6	|Verify Administrator cannot create cryptogram missing ciphered message	| On Admin screen	                                                        | Press "Add Cryptogram"; input blank solution, any ciphered message	| No	    |   "Enter a cipher!" displayed	                                                                                        |   "Enter a cipher!" is displayed	                                |       pass	|   X       |
|SA7	|Verify Administrator cannot create cryptogram w/invalid sol	| On Admin screen	                                                                | Press "Add Cryptogram"; input solution "!14#$1", any encoded phrase	| No	    |   "At least one alphabetical character required!" displayed	                                                        |   Message displayed is "At least one alphabetical character required!" and no cryptogram is created	    |       pass	|   X       |
|SP1	|Verify player can view list of cryptograms	                    | On player screen, logged in, cryptograms available	                            | Once logged in on player screen, cryptograms will be available to view	| No	|   List of available cryptograms displayed	                                                                            |   When logged in you can view the available cryptograms on the player screen	    |       pass    |	X       |
|SP2	|Verify player can attempt cryptogram	                        | On cryptogram list screen, cryptograms available	                                | Press on an available cryptogram	                                    | No	    |   Player on Cryptogram Attempt page	                                                                                |   When you press on an available cryptogram you are taken to the cryptogram attempt page	        |       pass    |  	X       |
|SP3	|Verify player can resume cryptogram	                        | On cryptogram list screen, cryptograms available, one started,saved	            | Press on an available cryptogram which has been previously attempted	| No	    |   Player on Cryptogram Attempt page, previously saved answer in place	                                                |   The "Previous Guess" field has the previous message in the state it was left 	    |       pass	|   X       |
|SP4	|Verify player can view solved cryptogram	                    | On cryptogram list screen, cryptograms available, one started, solved correctly	| Press on available cryptogram that was previously solved	            | No	    |   Player on Cryptogram Attempt page, previously saved answer in place, "Submission Correct?" flag set to Yes	        |   You can return to a previously solved cryptogram but it behaves the same as a previous attempt except for the fact that the "Submission Correct" flag is set to yes.  If you begin an attempt, leave, and return you can no longer view the correct solution.	    |       partial	    |   X       |
|SP5	|Verify player can view ratings for cryptogram	                | On cryptogram list screen, cryptograms available, ratings available	            | Once on cryptogram list screen and cryptograms are available, the ratings are visible	|   No	|   Cryptogram ratings are visible	                                                                        |   You can view the cryptogram ratings when on the cryptogram list screen	    |       pass	|   X       |
|SP6	|Verify player can view past submissions	                    | On cryptogram list screen, cryptograms available, past submissions available	    | Enter cryptogram with previous submissions 	                        | No	    |   Most recent submission appears	                                                                                    |   Per expected	    |       pass    |	X       |
|SP7	|Verify player can submit correct attempt	                    | On cryptogram attempt screen	                                                    | Enter correct solution for cryptogram	                                | No	    |   "Congratulations! You're Correct!" appears; user is taken to cryptogram list screen	                                |   Message presented is "Congratulations! You're Correct!" and you are taken to the cryptogram list screen	    |       pass	|   X       |
|SP8	|Verify player can submit incorrect attempt	                    | On cryptogram attempt screen	                                                    | Enter incorrect solution for cryptogram	                            | No	    |   "Try Again!" appears; player remains on same screen	                                                                |   Message displayed is "Try Again!". Player remains on same screen.	    |       pass	|   X       |
|SP9	|Verify player can view ratings for players	                    | Logged in, on cryptogram list screen	                                            | Press "Ratings" button	                                            | No	    |   Player ratings are shown	                                                                                        |   When you press the ratings button, player ratings are displayed.	    |       pass	|   X       |
